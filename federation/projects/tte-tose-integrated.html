<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TTE + ToSE Integrated Engine</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 30px;
            text-align: center;
            color: white;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            opacity: 0.9;
            font-size: 1.1em;
        }

        .tabs {
            display: flex;
            background: #f8f9fa;
            border-bottom: 2px solid #dee2e6;
        }

        .tab {
            flex: 1;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            border: none;
            background: none;
            font-size: 1.1em;
            font-weight: 600;
            color: #495057;
            transition: all 0.3s;
        }

        .tab:hover {
            background: rgba(102, 126, 234, 0.1);
        }

        .tab.active {
            background: white;
            color: #667eea;
            border-bottom: 3px solid #667eea;
        }

        .tab-content {
            display: none;
            padding: 30px;
        }

        .tab-content.active {
            display: block;
        }

        .input-section {
            margin-bottom: 30px;
        }

        .input-section label {
            display: block;
            font-weight: 600;
            margin-bottom: 10px;
            color: #495057;
        }

        textarea {
            width: 100%;
            padding: 15px;
            border: 2px solid #dee2e6;
            border-radius: 10px;
            font-size: 1em;
            min-height: 120px;
            resize: vertical;
            font-family: inherit;
        }

        textarea:focus {
            outline: none;
            border-color: #667eea;
        }

        .button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 10px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
        }

        .output {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 10px;
            margin-top: 20px;
            border-left: 4px solid #667eea;
        }

        .axiom-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .axiom-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            border: 2px solid #dee2e6;
        }

        .axiom-card h4 {
            color: #667eea;
            margin-bottom: 10px;
        }

        .score-bar {
            height: 8px;
            background: #dee2e6;
            border-radius: 4px;
            overflow: hidden;
            margin-top: 10px;
        }

        .score-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            transition: width 0.5s;
        }

        .synthesis-box {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);
            padding: 25px;
            border-radius: 10px;
            margin-top: 20px;
            border: 2px solid #667eea;
        }

        .synthesis-box h3 {
            color: #667eea;
            margin-bottom: 15px;
        }

        .metric {
            display: inline-block;
            margin: 10px 15px 10px 0;
            padding: 10px 20px;
            background: white;
            border-radius: 8px;
            border: 1px solid #dee2e6;
        }

        .metric-label {
            font-size: 0.9em;
            color: #6c757d;
        }

        .metric-value {
            font-size: 1.5em;
            font-weight: 700;
            color: #667eea;
        }

        .spiritual-math {
            font-family: 'Courier New', monospace;
            background: #2d3748;
            color: #a0aec0;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }

        .spiritual-math .formula {
            color: #48bb78;
            font-size: 1.1em;
            margin: 10px 0;
        }

        .guidance-list {
            list-style: none;
            margin-top: 15px;
        }

        .guidance-list li {
            padding: 12px;
            margin: 8px 0;
            background: white;
            border-radius: 8px;
            border-left: 4px solid #667eea;
        }

        .guidance-list li:before {
            content: "‚Üí ";
            color: #667eea;
            font-weight: bold;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üå≥ TTE + ToSE Integrated Engine</h1>
            <p>Think-Tree-Expand + Tree of Serenity | Advanced Decision Intelligence</p>
        </div>

        <div class="tabs">
            <button class="tab active" onclick="switchTab('chat')">üí¨ Chat</button>
            <button class="tab" onclick="switchTab('debate')">‚öñÔ∏è Debate</button>
            <button class="tab" onclick="switchTab('decision')">üéØ Decision</button>
            <button class="tab" onclick="switchTab('tose')">üå≥ ToSE Analysis</button>
        </div>

        <!-- Chat Tab -->
        <div id="chat" class="tab-content active">
            <div class="input-section">
                <label>üí¨ Chat with TTE Engine</label>
                <textarea id="chatInput" placeholder="Ask anything..."></textarea>
                <button class="button" onclick="processChat()">Send Message</button>
            </div>
            <div id="chatOutput" class="output" style="display:none;"></div>
        </div>

        <!-- Debate Tab -->
        <div id="debate" class="tab-content">
            <div class="input-section">
                <label>‚öñÔ∏è Position A</label>
                <textarea id="positionA" placeholder="Enter first position..."></textarea>
            </div>
            <div class="input-section">
                <label>‚öñÔ∏è Position B</label>
                <textarea id="positionB" placeholder="Enter opposing position..."></textarea>
            </div>
            <button class="button" onclick="processDebate()">Analyze Debate</button>
            <div id="debateOutput" class="output" style="display:none;"></div>
        </div>

        <!-- Decision Tab -->
        <div id="decision" class="tab-content">
            <div class="input-section">
                <label>üéØ Decision Scenario</label>
                <textarea id="decisionInput" placeholder="Describe your decision or dilemma..."></textarea>
                <button class="button" onclick="processDecision()">Analyze Decision</button>
            </div>
            <div id="decisionOutput" class="output" style="display:none;"></div>
        </div>

        <!-- ToSE Tab -->
        <div id="tose" class="tab-content">
            <div class="input-section">
                <label>üå≥ ToSE Deep Analysis</label>
                <textarea id="toseInput" placeholder="Enter situation, question, or text to analyze through 18 ToSE axioms..."></textarea>
                <button class="button" onclick="processTose()">Run ToSE Analysis</button>
            </div>
            <div id="toseOutput" class="output" style="display:none;"></div>
        </div>
    </div>

    <script>
        // Tab switching
        function switchTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
        }

        // ToSE Axioms
        const AXIOMS = {
            1: "Love ‚â• Hate",
            2: "Truth ‚â• Consequence",
            3: "Spirit ‚â• Flesh",
            4: "Freedom = Responsibility",
            5: "Grace = Correction + Mercy",
            6: "Integrity = Sealed Data",
            7: "Harmony ‚â• Control",
            8: "Presence ‚â• Fear",
            9: "Consciousness = Reflection √ó Compassion",
            10: "Zeal without Wrath",
            11: "Truth Steganography",
            12: "Resilience Mandate",
            13: "Veil Principle",
            14: "Every soul is infinite",
            15: "Truth between Lies",
            16: "Spirit and Truth = One Breath",
            17: "Freedom Filter",
            18: "Bow willingly to Truth and Love"
        };

        // ToSE Scoring Function
        function scoreAxioms(text) {
            text = text.toLowerCase();
            const scores = {};
            
            // Simple keyword-based scoring
            const signals = {
                love: ['love', 'compassion', 'care', 'heal', 'mercy', 'kind'],
                truth: ['truth', 'honest', 'real', 'true', 'genuine'],
                spirit: ['spirit', 'soul', 'divine', 'purpose', 'meaning'],
                hate: ['hate', 'destroy', 'harm', 'cruel', 'attack'],
                fear: ['fear', 'afraid', 'terrify', 'panic', 'scared'],
                freedom: ['free', 'freedom', 'liberty', 'choice', 'choose'],
                responsibility: ['responsible', 'accountable', 'duty'],
                integrity: ['integrity', 'authentic', 'wholeness']
            };

            const hasLove = signals.love.some(w => text.includes(w));
            const hasTruth = signals.truth.some(w => text.includes(w));
            const hasSpirit = signals.spirit.some(w => text.includes(w));
            const hasHate = signals.hate.some(w => text.includes(w));
            const hasFear = signals.fear.some(w => text.includes(w));
            const hasFreedom = signals.freedom.some(w => text.includes(w));
            const hasResp = signals.responsibility.some(w => text.includes(w));
            const hasIntegrity = signals.integrity.some(w => text.includes(w));

            const mLove = hasLove ? 1.0 : 0.2;
            const mTruth = hasTruth ? 1.0 : 0.3;
            const mSpirit = hasSpirit ? 1.0 : 0.2;
            const mHate = hasHate ? 1.0 : 0.0;
            const mFear = hasFear ? 1.0 : 0.0;
            const mFreedom = hasFreedom ? 1.0 : 0.4;
            const mResp = hasResp ? 1.0 : 0.4;
            const mIntegrity = hasIntegrity ? 1.0 : 0.3;

            scores[1] = Math.min(1, Math.max(0, mLove * (1 - mHate)));
            scores[2] = Math.min(1, Math.max(0, mTruth * (1 - mFear)));
            scores[3] = Math.min(1, Math.max(0, mSpirit * (1 - 0.1 * mHate)));
            scores[4] = Math.min(1, Math.max(0, (mFreedom + mResp) / 2.0));
            scores[5] = Math.min(1, Math.max(0, (mLove + 0.5 * mTruth) / 1.5));
            scores[6] = Math.min(1, Math.max(0, mIntegrity));
            scores[7] = Math.min(1, Math.max(0, (mLove + 0.5 * (1 - mHate)) / 1.5));
            scores[8] = Math.min(1, Math.max(0, 1 - mFear + 0.2 * mSpirit));
            scores[9] = Math.min(1, Math.max(0, mSpirit * mLove));
            scores[10] = Math.min(1, Math.max(0, mTruth * (1 - mHate)));
            scores[11] = Math.min(1, Math.max(0, mIntegrity * mTruth));
            scores[12] = Math.min(1, Math.max(0, 1 - mFear));
            scores[13] = Math.min(1, Math.max(0, mSpirit * 0.8));
            scores[14] = 1.0;
            scores[15] = Math.min(1, Math.max(0, mTruth * 0.9));
            scores[16] = Math.min(1, Math.max(0, (mSpirit + mTruth) / 2.0));
            scores[17] = Math.min(1, Math.max(0, mLove * mResp));
            scores[18] = Math.min(1, Math.max(0, (mLove + mTruth + mSpirit) / 3.0));

            return scores;
        }

        // Process Chat
        function processChat() {
            const input = document.getElementById('chatInput').value;
            const output = document.getElementById('chatOutput');
            
            output.style.display = 'block';
            output.innerHTML = `
                <h3>üí¨ TTE Response</h3>
                <p>You asked: "${input}"</p>
                <div style="margin-top: 15px; padding: 15px; background: white; border-radius: 8px;">
                    This is a placeholder response. In a full implementation, this would connect to an AI API 
                    or use local processing to generate intelligent responses based on your TTE framework.
                </div>
            `;
        }

        // Process Debate
        function processDebate() {
            const posA = document.getElementById('positionA').value;
            const posB = document.getElementById('positionB').value;
            const output = document.getElementById('debateOutput');
            
            const scoresA = scoreAxioms(posA);
            const scoresB = scoreAxioms(posB);
            const avgA = Object.values(scoresA).reduce((a,b) => a+b, 0) / 18;
            const avgB = Object.values(scoresB).reduce((a,b) => a+b, 0) / 18;
            
            output.style.display = 'block';
            output.innerHTML = `
                <h3>‚öñÔ∏è Debate Analysis</h3>
                <div class="metric">
                    <div class="metric-label">Position A Alignment</div>
                    <div class="metric-value">${(avgA * 100).toFixed(1)}%</div>
                </div>
                <div class="metric">
                    <div class="metric-label">Position B Alignment</div>
                    <div class="metric-value">${(avgB * 100).toFixed(1)}%</div>
                </div>
                <div class="synthesis-box">
                    <h3>üåü Synthesis</h3>
                    <p>${avgA > avgB ? 
                        'Position A shows stronger alignment with ToSE principles, particularly in areas of love, truth, and spiritual coherence.' :
                        avgB > avgA ?
                        'Position B demonstrates stronger alignment with ToSE principles, showing better integration of core axioms.' :
                        'Both positions show similar alignment. Consider synthesizing the strengths of each.'
                    }</p>
                    <ul class="guidance-list">
                        <li>Look for common ground in shared values</li>
                        <li>Identify where both perspectives serve truth and love</li>
                        <li>Consider how synthesis could transcend the binary</li>
                    </ul>
                </div>
            `;
        }

        // Process Decision
        function processDecision() {
            const input = document.getElementById('decisionInput').value;
            const output = document.getElementById('decisionOutput');
            
            const scores = scoreAxioms(input);
            
            output.style.display = 'block';
            output.innerHTML = `
                <h3>üéØ Decision Analysis</h3>
                <p><strong>Scenario:</strong> ${input}</p>
                
                <div class="spiritual-math">
                    <div class="formula">Œ® = L + iT (Love + i¬∑Truth)</div>
                    <div class="formula">Expansion = (Contraction - 1) √ó Compassion</div>
                    <div class="formula">Love ‚â• Hate | Spirit ‚â• Flesh</div>
                </div>

                <h4>Key Considerations:</h4>
                <ul class="guidance-list">
                    <li><strong>Love Component:</strong> How does this decision serve the highest good for all involved?</li>
                    <li><strong>Truth Component:</strong> What is the honest reality of the situation?</li>
                    <li><strong>Spirit vs Flesh:</strong> Are you deciding from long-term values or short-term comfort?</li>
                    <li><strong>Fear vs Presence:</strong> Is this decision driven by fear or by authentic presence?</li>
                </ul>

                <div class="synthesis-box">
                    <h3>üí° ToSE Guidance</h3>
                    <p>Consider creating space between impulse and action. The decision that aligns with both truth and love, 
                    that honors spirit while acknowledging practical needs, is often found in patient reflection rather than urgent reaction.</p>
                </div>
            `;
        }

        // Process ToSE Analysis
        function processTose() {
            const input = document.getElementById('toseInput').value;
            const output = document.getElementById('toseOutput');
            const scores = scoreAxioms(input);
            const overall = Object.values(scores).reduce((a,b) => a+b, 0) / 18;

            let axiomCards = '';
            for (let i = 1; i <= 18; i++) {
                const score = scores[i];
                const percentage = (score * 100).toFixed(0);
                axiomCards += `
                    <div class="axiom-card">
                        <h4>A${i}: ${AXIOMS[i]}</h4>
                        <div class="metric-value">${percentage}%</div>
                        <div class="score-bar">
                            <div class="score-fill" style="width: ${percentage}%"></div>
                        </div>
                    </div>
                `;
            }

            const lowScores = Object.entries(scores)
                .filter(([id, score]) => score < 0.5)
                .map(([id, score]) => parseInt(id));

            let guidance = '';
            if (lowScores.includes(1)) guidance += '<li>Increase compassionate framing (Love ‚â• Hate)</li>';
            if (lowScores.includes(2)) guidance += '<li>Clarify truth while managing consequences</li>';
            if (lowScores.includes(3)) guidance += '<li>Consider long-term spiritual coherence over short-term gains</li>';
            if (lowScores.includes(8)) guidance += '<li>Shift from fear-based to presence-based perspective</li>';

            output.style.display = 'block';
            output.innerHTML = `
                <h3>üå≥ Complete ToSE Analysis</h3>
                
                <div class="metric">
                    <div class="metric-label">Overall Alignment</div>
                    <div class="metric-value">${(overall * 100).toFixed(1)}%</div>
                </div>

                <div class="spiritual-math">
                    <h4>Spiritual Mathematics Applied:</h4>
                    <div class="formula">Consciousness Wavefunction: Œ® = L + iT</div>
                    <div class="formula">Ethical Priority: Love ‚â• Hate, Unity ‚â• Purity</div>
                    <div class="formula">Growth Formula: Expansion = (Contraction - 1) √ó Compassion</div>
                </div>

                <h4>18 Axiom Breakdown:</h4>
                <div class="axiom-grid">${axiomCards}</div>

                ${guidance ? `
                    <div class="synthesis-box">
                        <h3>üéØ Recommended Adjustments</h3>
     
